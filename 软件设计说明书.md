# MinecraftçŸ¿æ´æ¢é™©æ¸¸æˆ - è½¯ä»¶è®¾è®¡è¯´æ˜ä¹¦

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **è½¯ä»¶åç§°** | MinecraftçŸ¿æ´æ¢é™©æ¸¸æˆ |
| **ç‰ˆæœ¬å·** | 1.0 |
| **å¼€å‘è¯­è¨€** | HTML5ã€CSS3ã€JavaScript ES6+ |
| **å¼€å‘å¹³å°** | Webå‰ç«¯ |
| **è®¾è®¡æ¨¡å¼** | å•é¡µåº”ç”¨(SPA) |
| **æ¶æ„ç±»å‹** | å®¢æˆ·ç«¯æ¸²æŸ“æ¶æ„ |

---

## ğŸ¯ è®¾è®¡ç›®æ ‡

### åŠŸèƒ½æ€§ç›®æ ‡
- å®ç°å®Œæ•´çš„Minecrafté£æ ¼çŸ¿æ´æ¢é™©æ¸¸æˆä½“éªŒ
- æ”¯æŒå¤šç§è®¾å¤‡å¹³å°çš„å“åº”å¼è®¾è®¡
- æä¾›ç›´è§‚çš„ç”¨æˆ·ç•Œé¢å’Œæµç•…çš„æ¸¸æˆæ“ä½œ
- å®ç°æ¸¸æˆæ•°æ®çš„æœ¬åœ°å­˜å‚¨å’Œç®¡ç†

### éåŠŸèƒ½æ€§ç›®æ ‡
- **æ€§èƒ½è¦æ±‚**ï¼šé¡µé¢åŠ è½½æ—¶é—´ < 2ç§’ï¼Œæ¸¸æˆæµç•…åº¦ â‰¥ 30fps
- **å…¼å®¹æ€§**ï¼šæ”¯æŒä¸»æµç°ä»£æµè§ˆå™¨
- **å¯ç»´æŠ¤æ€§**ï¼šæ¨¡å—åŒ–ä»£ç ç»“æ„ï¼Œæ¸…æ™°çš„æ³¨é‡Šå’Œæ–‡æ¡£
- **å¯æ‰©å±•æ€§**ï¼šé¢„ç•™æ‰©å±•æ¥å£ï¼Œä¾¿äºåç»­åŠŸèƒ½å¼€å‘

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è¡¨ç¤ºå±‚ (Presentation Layer)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HTMLç»“æ„  â”‚  CSSæ ·å¼  â”‚  ç”¨æˆ·äº¤äº’  â”‚  åŠ¨ç”»æ•ˆæœ        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ä¸šåŠ¡é€»è¾‘å±‚ (Business Layer)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¸¸æˆå¼•æ“  â”‚  çŠ¶æ€ç®¡ç†  â”‚  äº‹ä»¶å¤„ç†  â”‚  ç®—æ³•å®ç°        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ•°æ®è®¿é—®å±‚ (Data Layer)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœ¬åœ°å­˜å‚¨  â”‚  æ¸¸æˆé…ç½®  â”‚  ç”¨æˆ·æ•°æ®  â”‚  ç»Ÿè®¡ä¿¡æ¯        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ¶æ„

- **å‰ç«¯æ¡†æ¶**ï¼šåŸç”ŸJavaScript ES6+
- **æ ·å¼æ¡†æ¶**ï¼šCSS3 Grid + Flexbox
- **å­˜å‚¨æ–¹æ¡ˆ**ï¼šlocalStorageæœ¬åœ°å­˜å‚¨
- **ç»Ÿè®¡åˆ†æ**ï¼šç™¾åº¦ç»Ÿè®¡API
- **éŸ³æ•ˆç³»ç»Ÿ**ï¼šWeb Audio API

---

## ğŸ“¦ æ¨¡å—è®¾è®¡

### 1. æ¸¸æˆæ ¸å¿ƒæ¨¡å— (Game Core)

#### 1.1 æ¸¸æˆé…ç½®æ¨¡å—
```javascript
// æ¸¸æˆå¸¸é‡é…ç½®
const GAME_CONFIG = {
    BOARD_SIZE: 15,           // æ¸¸æˆæ¿å°ºå¯¸
    BLOCK_TYPES: {...},       // æ–¹å—ç±»å‹å®šä¹‰
    DIFFICULTY_LEVELS: {...}, // éš¾åº¦çº§åˆ«é…ç½®
    ANALYTICS_CONFIG: {...}   // ç»Ÿè®¡é…ç½®
};
```

#### 1.2 æ¸¸æˆçŠ¶æ€ç®¡ç†
```javascript
// å…¨å±€æ¸¸æˆçŠ¶æ€
let gameState = {
    board: [],                    // æ¸¸æˆæ¿æ•°æ®
    playerPosition: {...},        // ç©å®¶ä½ç½®
    inventory: {...},             // ç‰©å“æ 
    health: 10,                   // ç”Ÿå‘½å€¼
    difficulty: 'medium',         // éš¾åº¦çº§åˆ«
    timer: null,                  // è®¡æ—¶å™¨
    timeLeft: 180,                // å‰©ä½™æ—¶é—´
    hasWon: false,                // èƒœåˆ©æ ‡å¿—
    hasStarted: false,            // å¼€å§‹æ ‡å¿—
    previousPosition: null,       // ä¸Šä¸€ä¸ªä½ç½®
    blockStates: {},              // æ–¹å—çŠ¶æ€
    touchStartTime: 0,            // è§¦æ‘¸å¼€å§‹æ—¶é—´
    bestTime: null                // æœ€ä½³çºªå½•
};
```

#### 1.3 æ¸¸æˆå¼•æ“æ ¸å¿ƒ
```javascript
// æ ¸å¿ƒæ¸¸æˆå¾ªç¯
class GameEngine {
    constructor() {
        this.isRunning = false;
        this.frameCount = 0;
    }
    
    start() {
        this.isRunning = true;
        this.gameLoop();
    }
    
    gameLoop() {
        if (!this.isRunning) return;
        
        this.update();
        this.render();
        
        requestAnimationFrame(() => this.gameLoop());
    }
    
    update() {
        // æ›´æ–°æ¸¸æˆçŠ¶æ€
        this.updatePlayer();
        this.updateMonsters();
        this.checkCollisions();
    }
    
    render() {
        // æ¸²æŸ“æ¸¸æˆç”»é¢
        renderBoard();
        updateUI();
    }
}
```

### 2. ç”¨æˆ·ç•Œé¢æ¨¡å— (UI Module)

#### 2.1 æ¸¸æˆæ¿æ¸²æŸ“
```javascript
function renderBoard() {
    const gameBoard = document.getElementById('gameBoard');
    
    // åŠ¨æ€è®¡ç®—æ–¹å—å¤§å°
    const cellSize = calculateOptimalCellSize();
    
    // åˆ›å»ºç½‘æ ¼å¸ƒå±€
    gameBoard.style.gridTemplateColumns = `repeat(${BOARD_SIZE}, ${cellSize}px)`;
    gameBoard.style.gridTemplateRows = `repeat(${BOARD_SIZE}, ${cellSize}px)`;
    
    // æ¸²æŸ“æ¯ä¸ªæ–¹å—
    for (let y = 0; y < BOARD_SIZE; y++) {
        for (let x = 0; x < BOARD_SIZE; x++) {
            const cell = createCell(x, y);
            gameBoard.appendChild(cell);
        }
    }
}
```

#### 2.2 å“åº”å¼è®¾è®¡
```css
/* å“åº”å¼æ¸¸æˆæ¿ */
.game-board {
    display: grid;
    gap: 1px;
    max-width: 90vw;
    max-height: 60vh;
    margin: 0 auto;
}

/* åª’ä½“æŸ¥è¯¢é€‚é… */
@media (max-width: 768px) {
    .game-board {
        gap: 0.5px;
    }
}

@media (max-width: 480px) {
    .game-board {
        gap: 0.25px;
    }
}
```

#### 2.3 ç”¨æˆ·äº¤äº’å¤„ç†
```javascript
// äº‹ä»¶å¤„ç†ç³»ç»Ÿ
class EventHandler {
    constructor() {
        this.initKeyboardEvents();
        this.initTouchEvents();
        this.initMouseEvents();
    }
    
    initKeyboardEvents() {
        document.addEventListener('keydown', handleKeyPress);
    }
    
    initTouchEvents() {
        const gameBoard = document.getElementById('gameBoard');
        gameBoard.addEventListener('touchstart', handleTouchStart);
        gameBoard.addEventListener('touchend', handleTouchEnd);
    }
    
    initMouseEvents() {
        const gameBoard = document.getElementById('gameBoard');
        gameBoard.addEventListener('click', handleMouseClick);
    }
}
```

### 3. æ¸¸æˆé€»è¾‘æ¨¡å— (Game Logic)

#### 3.1 ç©å®¶ç§»åŠ¨ç³»ç»Ÿ
```javascript
function movePlayer(dx, dy) {
    const newX = gameState.playerPosition.x + dx;
    const newY = gameState.playerPosition.y + dy;
    
    // è¾¹ç•Œæ£€æŸ¥
    if (!isValidPosition(newX, newY)) return;
    
    // ç§»åŠ¨æ¡ä»¶æ£€æŸ¥
    const currentBlockType = gameState.board[gameState.playerPosition.y][gameState.playerPosition.x];
    const isReturningToPrevious = checkReturningToPrevious(newX, newY);
    
    if (currentBlockType === BLOCK_TYPES.EMPTY || isReturningToPrevious) {
        // æ‰§è¡Œç§»åŠ¨
        executeMove(newX, newY);
        
        // è§¦å‘æ€ªç‰©ç§»åŠ¨
        moveMonsters();
    }
}
```

#### 3.2 æŒ–æ˜ç³»ç»Ÿ
```javascript
function mineBlock() {
    const x = gameState.playerPosition.x;
    const y = gameState.playerPosition.y;
    const blockType = gameState.board[y][x];
    
    // ç‰¹æ®Šæ–¹å—å¤„ç†ï¼ˆå¦‚é’»çŸ³çŸ¿éœ€è¦å¤šæ¬¡æŒ–æ˜ï¼‰
    if (blockType === BLOCK_TYPES.DIAMOND_ORE) {
        handleDiamondMining(x, y);
        return;
    }
    
    // æ™®é€šæ–¹å—å¤„ç†
    handleNormalBlockMining(blockType);
    
    // æ›´æ–°æ¸¸æˆæ¿
    gameState.board[y][x] = BLOCK_TYPES.EMPTY;
    renderBoard();
}
```

#### 3.3 æ€ªç‰©AIç³»ç»Ÿ
```javascript
function moveMonsters() {
    const monsters = findMonsters();
    
    monsters.forEach(monster => {
        const direction = calculateMonsterDirection(monster);
        const newPosition = calculateNewPosition(monster, direction);
        
        if (isValidMonsterMove(newPosition)) {
            moveMonsterToPosition(monster, newPosition);
        }
    });
}

function calculateMonsterDirection(monster) {
    switch(monster.type) {
        case MONSTER:
            return calculateRandomDirection();
        case ZOMBIE:
            return calculatePlayerTrackingDirection(monster);
        default:
            return calculateRandomDirection();
    }
}
```

### 4. æ•°æ®ç®¡ç†æ¨¡å— (Data Management)

#### 4.1 æœ¬åœ°å­˜å‚¨ç³»ç»Ÿ
```javascript
class LocalStorageManager {
    constructor() {
        this.storageKey = 'minecraftGameStats';
    }
    
    saveData(data) {
        try {
            localStorage.setItem(this.storageKey, JSON.stringify(data));
            return true;
        } catch (error) {
            console.error('ä¿å­˜æ•°æ®å¤±è´¥:', error);
            return false;
        }
    }
    
    loadData() {
        try {
            const data = localStorage.getItem(this.storageKey);
            return data ? JSON.parse(data) : null;
        } catch (error) {
            console.error('åŠ è½½æ•°æ®å¤±è´¥:', error);
            return null;
        }
    }
    
    clearData() {
        try {
            localStorage.removeItem(this.storageKey);
            return true;
        } catch (error) {
            console.error('æ¸…é™¤æ•°æ®å¤±è´¥:', error);
            return false;
        }
    }
}
```

#### 4.2 ç»Ÿè®¡åˆ†æç³»ç»Ÿ
```javascript
class AnalyticsManager {
    constructor() {
        this.baiduConfig = {
            siteId: '476c5b0ad14227a87de85ccdbe51a1d4',
            enabled: true
        };
    }
    
    trackGameStart(difficulty) {
        // ç™¾åº¦ç»Ÿè®¡
        this.sendToBaidu('game', 'start', difficulty);
        
        // æœ¬åœ°ç»Ÿè®¡
        this.updateLocalStats('start', difficulty);
    }
    
    trackGameEnd(result, timeUsed) {
        // ç™¾åº¦ç»Ÿè®¡
        this.sendToBaidu('game', 'end', result, timeUsed);
        
        // æœ¬åœ°ç»Ÿè®¡
        this.updateLocalStats('end', result);
    }
    
    sendToBaidu(category, action, label, value) {
        if (typeof _hmt !== 'undefined') {
            setTimeout(() => {
                _hmt.push(['_trackEvent', category, action, label, value || 1]);
            }, 0);
        }
    }
}
```

---

## ğŸ¨ ç•Œé¢è®¾è®¡

### è®¾è®¡åŸåˆ™

1. **ç®€æ´æ€§**ï¼šç•Œé¢ç®€æ´æ˜äº†ï¼Œçªå‡ºæ ¸å¿ƒæ¸¸æˆå…ƒç´ 
2. **ä¸€è‡´æ€§**ï¼šä¿æŒè§†è§‰é£æ ¼å’Œäº¤äº’æ¨¡å¼çš„ä¸€è‡´æ€§
3. **å“åº”æ€§**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸å’Œè®¾å¤‡ç±»å‹
4. **å¯è®¿é—®æ€§**ï¼šæ”¯æŒé”®ç›˜æ“ä½œå’Œå±å¹•é˜…è¯»å™¨

### è‰²å½©æ–¹æ¡ˆ

| ç”¨é€” | ä¸»è‰² | è¾…åŠ©è‰² | å¼ºè°ƒè‰² |
|------|------|--------|--------|
| èƒŒæ™¯ | #2c2c2c | #1a1a1a | #444444 |
| æ–¹å— | #8b8b8b | #666666 | #ff6666 |
| ç©å®¶ | #4CAF50 | #45a049 | #81c784 |
| å±é™© | #ff4444 | #cc0000 | #ff6666 |
| èµ„æº | #2196F3 | #1976D2 | #64b5f6 |

### å¸ƒå±€è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æ¸¸æˆæ ‡é¢˜ (120px)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         éš¾åº¦é€‰æ‹© (60px)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         ç»Ÿè®¡ä¿¡æ¯ (60px)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚         æ¸¸æˆæ¿åŒºåŸŸ (è‡ªé€‚åº”)          â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         å¸®åŠ©æŒ‰é’® (60px)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æ€§èƒ½ä¼˜åŒ–è®¾è®¡

### 1. æ¸²æŸ“ä¼˜åŒ–

#### 1.1 DOMæ“ä½œä¼˜åŒ–
```javascript
// æ‰¹é‡æ›´æ–°DOM
function batchUpdateDOM(updates) {
    // ä½¿ç”¨DocumentFragmentå‡å°‘é‡æ’é‡ç»˜
    const fragment = document.createDocumentFragment();
    
    updates.forEach(update => {
        const element = createElement(update);
        fragment.appendChild(element);
    });
    
    // ä¸€æ¬¡æ€§æ·»åŠ åˆ°DOM
    document.getElementById('gameBoard').appendChild(fragment);
}
```

#### 1.2 äº‹ä»¶å¤„ç†ä¼˜åŒ–
```javascript
// äº‹ä»¶å§”æ‰˜å‡å°‘äº‹ä»¶ç›‘å¬å™¨æ•°é‡
function setupEventDelegation() {
    const gameBoard = document.getElementById('gameBoard');
    
    gameBoard.addEventListener('click', (event) => {
        const cell = event.target.closest('.cell');
        if (cell) {
            handleCellClick(cell);
        }
    });
}
```

### 2. å†…å­˜ç®¡ç†

#### 2.1 å¯¹è±¡æ± æ¨¡å¼
```javascript
class ObjectPool {
    constructor(createFn, resetFn, initialSize = 10) {
        this.createFn = createFn;
        this.resetFn = resetFn;
        this.pool = [];
        
        // é¢„åˆ›å»ºå¯¹è±¡
        for (let i = 0; i < initialSize; i++) {
            this.pool.push(this.createFn());
        }
    }
    
    acquire() {
        if (this.pool.length > 0) {
            return this.pool.pop();
        } else {
            return this.createFn();
        }
    }
    
    release(obj) {
        this.resetFn(obj);
        this.pool.push(obj);
    }
}
```

#### 2.2 å†…å­˜æ³„æ¼é˜²æŠ¤
```javascript
// å®šæ—¶å™¨æ¸…ç†
function cleanupTimers() {
    if (gameState.timer) {
        clearInterval(gameState.timer);
        gameState.timer = null;
    }
}

// äº‹ä»¶ç›‘å¬å™¨æ¸…ç†
function cleanupEventListeners() {
    document.removeEventListener('keydown', handleKeyPress);
    // æ¸…ç†å…¶ä»–äº‹ä»¶ç›‘å¬å™¨
}
```

### 3. åŠ è½½ä¼˜åŒ–

#### 3.1 èµ„æºé¢„åŠ è½½
```javascript
function preloadResources() {
    // é¢„åŠ è½½å›¾ç‰‡èµ„æº
    const images = ['stone.png', 'diamond.png', 'lava.png'];
    images.forEach(src => {
        const img = new Image();
        img.src = src;
    });
    
    // é¢„åŠ è½½éŸ³æ•ˆ
    const sounds = ['mine.wav', 'hurt.wav', 'victory.wav'];
    sounds.forEach(src => {
        const audio = new Audio();
        audio.src = src;
    });
}
```

#### 3.2 æ‡’åŠ è½½å®ç°
```javascript
function lazyLoadHelpContent() {
    const helpButton = document.getElementById('helpToggle');
    
    helpButton.addEventListener('click', () => {
        if (!helpContentLoaded) {
            loadHelpContent();
            helpContentLoaded = true;
        }
    });
}
```

---

## ğŸ›¡ï¸ å®‰å…¨è®¾è®¡

### 1. æ•°æ®å®‰å…¨

#### 1.1 è¾“å…¥éªŒè¯
```javascript
function validateInput(input, type) {
    switch(type) {
        case 'position':
            return validatePosition(input);
        case 'difficulty':
            return validateDifficulty(input);
        default:
            return false;
    }
}

function validatePosition(pos) {
    return Number.isInteger(pos.x) && 
           Number.isInteger(pos.y) && 
           pos.x >= 0 && pos.x < BOARD_SIZE && 
           pos.y >= 0 && pos.y < BOARD_SIZE;
}
```

#### 1.2 XSSé˜²æŠ¤
```javascript
function sanitizeHTML(str) {
    const div = document.createElement('div');
    div.textContent = str;
    return div.innerHTML;
}
```

### 2. é”™è¯¯å¤„ç†

#### 2.1 å¼‚å¸¸æ•è·
```javascript
function safeExecute(fn, fallback = null) {
    try {
        return fn();
    } catch (error) {
        console.error('æ‰§è¡Œé”™è¯¯:', error);
        if (fallback) {
            return fallback();
        }
        return null;
    }
}
```

#### 2.2 é™çº§ç­–ç•¥
```javascript
function initializeGame() {
    try {
        // å°è¯•åˆå§‹åŒ–å®Œæ•´åŠŸèƒ½
        initFullGame();
    } catch (error) {
        console.warn('å®Œæ•´åŠŸèƒ½åˆå§‹åŒ–å¤±è´¥ï¼Œä½¿ç”¨åŸºç¡€ç‰ˆæœ¬');
        // é™çº§åˆ°åŸºç¡€ç‰ˆæœ¬
        initBasicGame();
    }
}
```

---

## ğŸ“Š æµ‹è¯•è®¾è®¡

### 1. å•å…ƒæµ‹è¯•

#### 1.1 æ¸¸æˆé€»è¾‘æµ‹è¯•
```javascript
// æµ‹è¯•ç©å®¶ç§»åŠ¨
describe('Player Movement', () => {
    test('should move player to valid position', () => {
        gameState.playerPosition = { x: 5, y: 5 };
        gameState.board[5][5] = BLOCK_TYPES.EMPTY;
        
        movePlayer(1, 0);
        
        expect(gameState.playerPosition).toEqual({ x: 6, y: 5 });
    });
    
    test('should not move player to invalid position', () => {
        gameState.playerPosition = { x: 0, y: 0 };
        
        movePlayer(-1, 0);
        
        expect(gameState.playerPosition).toEqual({ x: 0, y: 0 });
    });
});
```

#### 1.2 æ•°æ®å­˜å‚¨æµ‹è¯•
```javascript
describe('Local Storage', () => {
    test('should save and load game data', () => {
        const testData = { score: 100, time: 60 };
        
        localStorageManager.saveData(testData);
        const loadedData = localStorageManager.loadData();
        
        expect(loadedData).toEqual(testData);
    });
});
```

### 2. é›†æˆæµ‹è¯•

#### 2.1 æ¸¸æˆæµç¨‹æµ‹è¯•
```javascript
describe('Game Flow', () => {
    test('should complete full game cycle', async () => {
        // å¼€å§‹æ¸¸æˆ
        startGame();
        expect(gameState.hasStarted).toBe(true);
        
        // æ¨¡æ‹Ÿæ¸¸æˆæ“ä½œ
        simulateGameplay();
        
        // æ£€æŸ¥æ¸¸æˆç»“æŸ
        expect(gameState.hasWon || gameState.health <= 0).toBe(true);
    });
});
```

### 3. æ€§èƒ½æµ‹è¯•

#### 3.1 æ¸²æŸ“æ€§èƒ½æµ‹è¯•
```javascript
describe('Performance', () => {
    test('should render board within acceptable time', () => {
        const startTime = performance.now();
        
        renderBoard();
        
        const endTime = performance.now();
        const renderTime = endTime - startTime;
        
        expect(renderTime).toBeLessThan(100); // 100mså†…å®Œæˆæ¸²æŸ“
    });
});
```

---

## ğŸ”„ ç»´æŠ¤è®¾è®¡

### 1. ä»£ç ç»´æŠ¤

#### 1.1 å½“å‰é¡¹ç›®ç»“æ„
```
Minecraft/
â”œâ”€â”€ index.html              # æ¸¸æˆä¸»é¡µé¢
â”œâ”€â”€ style.css               # æ ·å¼è¡¨
â”œâ”€â”€ script.js               # æ ¸å¿ƒJavaScriptæ–‡ä»¶ï¼ˆåŒ…å«æ‰€æœ‰é€»è¾‘ï¼‰
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ LICENSE                 # å¼€æºè®¸å¯è¯
â”œâ”€â”€ ä½œå“åˆ›ä½œè¯´æ˜ä¹¦.md       # ç«èµ›æäº¤æ–‡æ¡£
â”œâ”€â”€ æ“ä½œä½¿ç”¨è¯´æ˜ä¹¦.md       # ç”¨æˆ·æ“ä½œæ‰‹å†Œ
â”œâ”€â”€ è½¯ä»¶è®¾è®¡è¯´æ˜ä¹¦.md       # è½¯ä»¶è®¾è®¡æ–‡æ¡£
â””â”€â”€ favicon.ico             # ç½‘ç«™å›¾æ ‡
```

#### 1.2 script.jså†…éƒ¨æ¨¡å—åŒ–è®¾è®¡

è™½ç„¶é¡¹ç›®ä½¿ç”¨å•ä¸€JavaScriptæ–‡ä»¶ï¼Œä½†å†…éƒ¨é‡‡ç”¨æ¨¡å—åŒ–çš„ä»£ç ç»„ç»‡æ–¹å¼ï¼š

```javascript
// ===== æ¸¸æˆé…ç½®æ¨¡å— (ç¬¬1-50è¡Œ) =====
let BOARD_SIZE = 15;
const DIFFICULTY_LEVELS = {...};
const BLOCK_TYPES = {...};
const ANALYTICS_CONFIG = {...};

// ===== æ¸¸æˆçŠ¶æ€ç®¡ç†æ¨¡å— (ç¬¬51-100è¡Œ) =====
let gameState = {...};

// ===== ç»Ÿè®¡åŠŸèƒ½æ¨¡å— (ç¬¬101-200è¡Œ) =====
function initAnalytics() {...}
function trackGameStart() {...}
function trackGameEnd() {...}

// ===== æ¸¸æˆæ ¸å¿ƒé€»è¾‘æ¨¡å— (ç¬¬201-800è¡Œ) =====
function initGame() {...}
function createBoard() {...}
function renderBoard() {...}

// ===== ç©å®¶æ§åˆ¶æ¨¡å— (ç¬¬801-1000è¡Œ) =====
function movePlayer() {...}
function mineBlock() {...}
function handleKeyPress() {...}

// ===== æ€ªç‰©AIæ¨¡å— (ç¬¬1001-1200è¡Œ) =====
function moveMonsters() {...}
function checkMonsterCollision() {...}

// ===== UIäº¤äº’æ¨¡å— (ç¬¬1201-1400è¡Œ) =====
function updateStats() {...}
function showCustomDialog() {...}
function setupHelpModal() {...}

// ===== éŸ³æ•ˆç³»ç»Ÿæ¨¡å— (ç¬¬1401-1600è¡Œ) =====
function playSound() {...}
function playHurtSound() {...}

// ===== æ•°æ®å­˜å‚¨æ¨¡å— (ç¬¬1601-1800è¡Œ) =====
function saveBestTime() {...}
function loadBestTime() {...}

// ===== å·¥å…·å‡½æ•°æ¨¡å— (ç¬¬1801-1992è¡Œ) =====
function calculateBoardSize() {...}
function isValidPosition() {...}
```

#### 1.3 æ¨¡å—åŒ–è®¾è®¡ä¼˜åŠ¿

1. **é€»è¾‘åˆ†ç¦»**ï¼šç›¸å…³åŠŸèƒ½ä»£ç é›†ä¸­åœ¨ä¸€èµ·ï¼Œä¾¿äºç†è§£å’Œç»´æŠ¤
2. **æ³¨é‡Šæ¸…æ™°**ï¼šæ¯ä¸ªæ¨¡å—éƒ½æœ‰æ˜ç¡®çš„æ³¨é‡Šæ ‡è¯†
3. **åŠŸèƒ½ç‹¬ç«‹**ï¼šæ¨¡å—é—´ä¾èµ–å…³ç³»æ¸…æ™°ï¼Œé™ä½è€¦åˆåº¦
4. **æ˜“äºæ‰©å±•**ï¼šæ–°å¢åŠŸèƒ½å¯ä»¥åœ¨å¯¹åº”æ¨¡å—ä¸­æ·»åŠ 

#### 1.4 æœªæ¥æ¨¡å—åŒ–é‡æ„è®¡åˆ’

å½“é¡¹ç›®è§„æ¨¡æ‰©å¤§æ—¶ï¼Œå¯ä»¥è€ƒè™‘å°†å•ä¸€æ–‡ä»¶æ‹†åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼š

```
src/
â”œâ”€â”€ index.html
â”œâ”€â”€ styles/
â”‚   â”œâ”€â”€ main.css
â”‚   â”œâ”€â”€ game-board.css
â”‚   â””â”€â”€ responsive.css
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ main.js              # ä¸»å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ game-config.js   # æ¸¸æˆé…ç½®
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ game-engine.js   # æ¸¸æˆå¼•æ“
â”‚   â”‚   â””â”€â”€ game-state.js    # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ renderer.js      # æ¸²æŸ“ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ events.js        # äº‹ä»¶å¤„ç†
â”‚   â”œâ”€â”€ logic/
â”‚   â”‚   â”œâ”€â”€ player.js        # ç©å®¶é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ monsters.js      # æ€ªç‰©AI
â”‚   â”‚   â””â”€â”€ blocks.js        # æ–¹å—é€»è¾‘
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ storage.js       # æ•°æ®å­˜å‚¨
â”‚   â”‚   â””â”€â”€ analytics.js     # ç»Ÿè®¡åˆ†æ
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ helpers.js       # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ validators.js    # éªŒè¯å‡½æ•°
â””â”€â”€ assets/
    â”œâ”€â”€ sounds/
    â””â”€â”€ images/
```

#### 1.2 ä»£ç è§„èŒƒ
```javascript
// ä½¿ç”¨ESLinté…ç½®ä»£ç è§„èŒƒ
{
    "extends": ["eslint:recommended"],
    "rules": {
        "indent": ["error", 4],
        "quotes": ["error", "single"],
        "semi": ["error", "always"],
        "no-console": "warn",
        "no-unused-vars": "error"
    }
}
```

### 2. ç‰ˆæœ¬æ§åˆ¶

#### 2.1 Gitå·¥ä½œæµ
```bash
# åŠŸèƒ½å¼€å‘åˆ†æ”¯
git checkout -b feature/new-block-type
git add .
git commit -m "feat: add new block type"
git push origin feature/new-block-type

# ä¸»åˆ†æ”¯åˆå¹¶
git checkout main
git merge feature/new-block-type
git tag v1.1.0
git push origin main --tags
```

#### 2.2 ç‰ˆæœ¬ç®¡ç†
```json
{
    "version": "1.0.0",
    "changelog": {
        "1.0.0": "åˆå§‹ç‰ˆæœ¬å‘å¸ƒ",
        "1.1.0": "æ·»åŠ æ–°æ–¹å—ç±»å‹",
        "1.2.0": "ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ"
    }
}
```

---

## ğŸ“ æ€»ç»“

æœ¬è½¯ä»¶è®¾è®¡è¯´æ˜ä¹¦è¯¦ç»†æè¿°äº†MinecraftçŸ¿æ´æ¢é™©æ¸¸æˆçš„ç³»ç»Ÿæ¶æ„ã€æ¨¡å—è®¾è®¡ã€ç•Œé¢è®¾è®¡ã€æ€§èƒ½ä¼˜åŒ–ã€å®‰å…¨è®¾è®¡ã€æµ‹è¯•è®¾è®¡å’Œç»´æŠ¤è®¾è®¡ç­‰å„ä¸ªæ–¹é¢ã€‚

### è®¾è®¡äº®ç‚¹

1. **æ¨¡å—åŒ–æ¶æ„**ï¼šæ¸…æ™°çš„æ¨¡å—åˆ’åˆ†ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
2. **å“åº”å¼è®¾è®¡**ï¼šé€‚é…å¤šç§è®¾å¤‡ï¼Œæä¾›ä¸€è‡´çš„ç”¨æˆ·ä½“éªŒ
3. **æ€§èƒ½ä¼˜åŒ–**ï¼šå¤šç§ä¼˜åŒ–ç­–ç•¥ç¡®ä¿æµç•…çš„æ¸¸æˆä½“éªŒ
4. **å®‰å…¨è€ƒè™‘**ï¼šå®Œå–„çš„è¾“å…¥éªŒè¯å’Œé”™è¯¯å¤„ç†æœºåˆ¶
5. **å¯æ‰©å±•æ€§**ï¼šé¢„ç•™æ‰©å±•æ¥å£ï¼Œæ”¯æŒåŠŸèƒ½è¿­ä»£

### æŠ€æœ¯ç‰¹è‰²

1. **çº¯WebæŠ€æœ¯æ ˆ**ï¼šæ— éœ€é¢å¤–å®‰è£…ï¼Œå³å¼€å³ç©
2. **è‡ªç ”æ¸¸æˆå¼•æ“**ï¼šè½»é‡çº§ä½†åŠŸèƒ½å®Œæ•´
3. **æ™ºèƒ½å“åº”å¼**ï¼šæ ¹æ®è®¾å¤‡æ€§èƒ½åŠ¨æ€è°ƒæ•´
4. **æ•°æ®ç»Ÿè®¡ç³»ç»Ÿ**ï¼šæœ¬åœ°+äº‘ç«¯åŒé‡ä¿éšœ
5. **è·¨å¹³å°å…¼å®¹**ï¼šæ”¯æŒä¸»æµæµè§ˆå™¨å’Œè®¾å¤‡

æœ¬è®¾è®¡ä¸ºæ¸¸æˆçš„å¼€å‘ã€ç»´æŠ¤å’Œæ‰©å±•æä¾›äº†å®Œæ•´çš„æŠ€æœ¯æŒ‡å¯¼ï¼Œç¡®ä¿é¡¹ç›®çš„é«˜è´¨é‡äº¤ä»˜å’Œé•¿æœŸå¯æŒç»­å‘å±•ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**ç¼–å†™æ—¥æœŸ**: 2025å¹´12æœˆ  
**ä½œè€…**: ç‹æºªç’  
**æŒ‡å¯¼æ•™å¸ˆ**: æ¢…æ›²